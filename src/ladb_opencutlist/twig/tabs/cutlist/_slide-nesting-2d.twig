{% extends 'tabs/base-slide.twig' %}

{% set id = 'ladb_cutlist_slide_nesting_2d' %}
{% set out = true %}

{% block headerInner %}
    {{ parent() }}
    {% include 'tabs/cutlist/_header-extra.twig' %}
{% endblock %}

{% block headerHeadingInner %}
    {{ 'tab.cutlist.cuttingdiagram.title'|i18next}} <small>| {{ group.material_name|escape('html') }} / <strong>{{ group.std_dimension}}</strong></small>
{% endblock %}

{% block headerToolsInner %}
    <button id="ladb_btn_nesting" class="btn btn-primary"><i class="ladb-opencutlist-icon-refresh"></i> {{ 'tab.cutlist.menu.group_cuttingdiagram'|i18next }}...</button>
    &nbsp;
    <button id="ladb_btn_close" class="btn btn-default"><i class="ladb-opencutlist-icon-close"></i> {{ 'default.close'|i18next }}</button>
{% endblock %}

{% block containerInner %}
    {{ parent() }}
    <table class="ladb-page">
        <div>unused_bins_count = <strong>{{ unused_bins_count }}</strong></div>
        <div>packed_bins_count = <strong>{{ packed_bins_count }}</strong></div>
        <div class="text-{% if unplaced_shapes_count == 0 %}success{% else %}danger{% endif %}">unplaced_shapes_count = <strong>{{ unplaced_shapes_count }}</strong></div>
        <hr>
        {% for bin in packed_bins %}
            <div style="text-align: center; margin-bottom: 20px;">
                <strong>{{ bin.length }} x {{ bin.width }}</strong> <span>({{ ('tab.cutlist.cuttingdiagram.list.sheet_good_type_'~bin.type)|i18next }})</span>
                <div>{{ bin.svg|raw }}</div>
            </div>
        {% endfor %}
        {% for bin in unused_bins %}
            <div style="text-align: center; margin-bottom: 20px;">
                <strong>{{ bin.length }} x {{ bin.width }}</strong> <span>({{ ('tab.cutlist.cuttingdiagram.list.sheet_good_type_'~bin.type)|i18next }})</span>
                <div>{{ bin.svg|raw }}</div>
            </div>
        {% endfor %}
    </table>
{% endblock %}
